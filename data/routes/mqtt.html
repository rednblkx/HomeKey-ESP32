<h2 class="text-center mb-0">MQTT Configuration</h2>
<h5 class="text-center mt-0">Changes in this section will reboot the device</h5>
<form id="config-form" data-type="mqtt" class="items-center">
  <div class="cards-container gap-16px">
    <div id="mqtt-broker-con" class="card-content">
      <h3 class="mt-0 text-center" style="margin-bottom: .5rem;">Broker Connection</h3>
      <h5 class="text-center mt-0" style="margin-bottom: .5rem;">TCP - Without TLS</h5>
      <div class="flex-col-lg p-half-rem gap-32px">
        <div class="flex-col-lg">
          <div class="d-flex gap-8px">
            <div class="flex-col" style="flex: 2;">
              <label for="mqttBroker">Address</label>
              <input type="text" name="mqttBroker" id="mqttBroker" placeholder="0.0.0.0" required>
            </div>
            <div class="flex-col" style="flex: .5;">
              <label for="mqttPort">Port</label>
              <input type="number" name="mqttPort" id="mqttPort" placeholder="1883" required inputmode="numeric" min="0" max="65535">
            </div>
          </div>
          <div class="flex-col">
            <label for="mqttClientId">Client ID</label>
            <input type="text" name="mqttClientId" id="mqttClientId" placeholder="homekey_mqtt" required>
          </div>
          <div class="flex-col">
            <label for="lwtTopic">LWT Topic</label>
            <input type="text" name="lwtTopic" id="lwtTopic" placeholder="homekey_mqtt/status" required>
          </div>
        </div>
        <div class="flex-col-lg">
          <div class="flex-col">
            <label for="mqttUsername">Username</label>
            <input type="text" name="mqttUsername" id="mqttUsername" placeholder="username">
          </div>
          <div class="flex-col">
            <label for="mqttPassword">Password</label>
            <input type="password" name="mqttPassword" id="mqttPassword" placeholder="password">
          </div>
        </div>
        <div class="input-group">
          <label for="hassMqttDiscoveryEnabled" >HASS MQTT Discovery</label>
          <select name="hassMqttDiscoveryEnabled" id="hassMqttDiscoveryEnabled">
            <option value="0">Disabled</option>
            <option value="1">Enabled</option>
          </select>
        </div>
      </div>
    </div>
    <div id="mqtt-topics-container" class="card-content">
      <h3 class="text-center mt-0">MQTT Topics</h3>
      <div class="tabs-container">
        <div id="mqtt-topics" class="tabs-list">
          <p class="tab-btn mqtt-topics-selected-tab" onclick="switchTab(this)" data-tab-index="0">Core Topics</p>
          <p class="tab-btn" onclick="switchTab(this)" data-tab-index="1">Custom Topics</p>
        </div>
        <span class="divider-dark"></span>
      </div>
      <div class="mqtt-topics-selected-body" data-mqtt-topics-body="0">
        <div class="flex-col-lg">
          <div class="flex-col-lg" style="gap: 0px;">
            <label for="hkTopic">NFC/HK Topic</label>
            <input type="text" name="hkTopic" id="hkTopic" placeholder="topic/auth" required>
          </div>
          <div class="input-group">
            <label for="nfcTagNoPublish">Ignore NFC Tags</label>
            <select name="nfcTagNoPublish" id="nfcTagNoPublish">
              <option value="0">Disabled</option>
              <option value="1">Enabled</option>
            </select>
          </div>
          <div class="flex-col-lg" style="gap: 0px;">
            <label for="hkAltActionTopic">Secondary action Topic</label>
            <input type="text" name="hkAltActionTopic" id="hkAltActionTopic" placeholder="topic/alt_action" required>
          </div>
          <div class="flex-col-lg" style="gap: 0px;">
            <label for="lockStateTopic">Lock State Topic</label>
            <input type="text" name="lockStateTopic" id="lockStateTopic" placeholder="topic/state" required>
          </div>
          <div class="flex-col-lg" style="gap: 0px;">
            <label for="lockStateCmd">Lock State Cmd Topic</label>
            <input type="text" name="lockStateCmd" id="lockStateCmd" placeholder="topic/set_state" required>
          </div>
          <div class="flex-col-lg" style="gap: 0px;">
            <label for="lockCStateCmd">Lock Current State Cmd Topic</label>
            <input type="text" name="lockCStateCmd" id="lockCStateCmd" placeholder="topic/set_current_state" required>
          </div>
          <div class="flex-col-lg" style="gap: 0px;">
            <label for="lockTStateCmd">Lock Target State Cmd Topic</label>
            <input type="text" name="lockTStateCmd" id="lockTStateCmd" placeholder="topic/set_target_state" required>
          </div>
          <div class="flex-col-lg" style="gap: 0px;">
            <label for="btrLvlCmdTopic">SmartLock battery level Cmd Topic</label>
            <input type="text" name="btrLvlCmdTopic" id="btrLvlCmdTopic" placeholder="topic/set_battery_level" required>
          </div>
        </div>
      </div>
      <div class="mqtt-topics-hidden-body" data-mqtt-topics-body="1">
        <div class="flex-col-lg">
          <div class="flex-col">
            <label for="lockEnableCustomState">Status</label>
            <select name="lockEnableCustomState" id="lockEnableCustomState">
              <option value="0">Disabled</option>
              <option value="1">Enabled</option>
            </select>
          </div>
          <div class="flex-col">
            <label for="lockCustomStateTopic">Custom State Topic</label>
            <input type="text" name="lockCustomStateTopic" id="lockCustomStateTopic" placeholder="topic/set_target_state" required>
          </div>
          <div class="flex-col">
            <label for="lockCustomStateCmd">Custom State Cmd Topic</label>
            <input type="text" name="lockCustomStateCmd" id="lockCustomStateCmd" placeholder="topic/set_target_state" required>
          </div>
        </div>
        <div style="display: grid;justify-items: center;gap: 16px;">
          <fieldset>
            <legend>Custom Lock Actions </legend>
            <div
              class="d-flex gap-16px justify-center flex-wrap p-half-rem">
              <div class="flex-col" style="max-width: 70px;">
                <label for="customLockActions!UNLOCK">Unlock</label>
                <input type="number" name="customLockActions!UNLOCK" id="customLockActions!UNLOCK" placeholder="255" min="0" max="255">
              </div>
              <div class="flex-col" style="max-width: 70px;">
                <label for="customLockActions!LOCK">Lock</label>
                <input type="number" name="customLockActions!LOCK" id="customLockActions!LOCK" placeholder="255" min="0" max="255">
              </div>
            </div>
          </fieldset>
          <fieldset>
            <legend>Custom Lock States </legend>
            <div
              class="d-flex gap-16px flex-wrap justify-center p-half-rem">
              <div class="flex-col" style="max-width: 70px;">
                <label for="customLockStates!C_UNLOCKING">Unlocking</label>
                <input type="number" name="customLockStates!C_UNLOCKING" id="customLockStates!C_UNLOCKING" placeholder="255" min="0" max="255">
              </div>
              <div class="flex-col" style="max-width: 70px;">
                <label for="customLockStates!C_LOCKING">Locking</label>
                <input type="number" name="customLockStates!C_LOCKING" id="customLockStates!C_LOCKING" placeholder="255" min="0" max="255">
              </div>
              <div class="flex-col" style="max-width: 70px;">
                <label for="customLockStates!C_UNLOCKED">Unlocked</label>
                <input type="number" name="customLockStates!C_UNLOCKED" id="customLockStates!C_UNLOCKED" placeholder="255" min="0" max="255">
              </div>
              <div class="flex-col" style="max-width: 70px;">
                <label for="customLockStates!C_LOCKED">Locked</label>
                <input type="number" name="customLockStates!C_LOCKED" id="customLockStates!C_LOCKED" placeholder="255" min="0" max="255">
              </div>
              <div class="flex-col" style="max-width: 70px;">
                <label for="customLockStates!C_JAMMED">Jammed</label>
                <input type="number" name="customLockStates!C_JAMMED" id="customLockStates!C_JAMMED" placeholder="255" min="0" max="255">
              </div>
              <div class="flex-col" style="max-width: 70px;">
                <label for="customLockStates!C_UNKNOWN">Unknown</label>
                <input type="number" name="customLockStates!C_UNKNOWN" id="customLockStates!C_UNKNOWN" placeholder="255" min="0" max="255">
              </div>
            </div>
          </fieldset>
        </div>
      </div>
    </div>
  </div>
  <div id="buttons-group">
    <button type="submit" class="cursor-pointer px-1rem py-half-rem">Submit</button>
    <button type="reset" class="cursor-pointer px-1rem py-half-rem destructive-btn">Reset</button>
  </div>
</form>