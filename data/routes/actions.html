<form id="config-form" data-type="actions">
  <h2>Hardware Actions</h2>
  <h5 class="form-h5">Assigning 255 to any Pin field will disable the respective option</h5>
  <div class="cards-container">
    <div class="card-content">
      <h3>NFC Triggers</h3>
      <h5 class="m-0">! Executed on successful/failed HomeKey authentications and on NFC Tag detection(treated as a failed event).</h5>
      <h5 class="mt-0">! Both Neopixel and Simple GPIO have a momentary state.</h5>
      <div class="tabs-container">
        <div id="nfc-triggers" class="tabs-list">
          <p class="tab-btn nfc-triggers-selected-tab" onclick="switchTab(this)" data-tab-index="0">Neopixel</p>
          <p class="tab-btn" onclick="switchTab(this)" data-tab-index="1">Simple GPIO</p>
        </div>
        <span class="divider-dark"></span>
      </div>
      <div class="nfc-triggers-selected-body" data-nfc-triggers-body="0">
        <div class="flex-row-lg flex-col-sm flex-center-lg flex-wrap">
          <div class="flex-col-lg" style="flex: 1;">
            <div class="input-group">
              <label for="nfcNeopixelPin">GPIO Pin</label>
              <input type="number" name="nfcNeopixelPin" id="nfcNeopixelPin" placeholder="8" required min="0" max="255">
            </div>
            <div class="input-group">
              <label for="neoPixelType">Pixel Type</label>
              <select name="neoPixelType" id="neoPixelType">
                <option value="0">RGB</option>
                <option value="1">RBG</option>
                <option value="2">BRG</option>
                <option value="3">BGR</option>
                <option value="4">GBR</option>
                <option value="5">GRB</option>
              </select>
            </div>
          </div>
          <div class="flex-col-lg" style="flex: 1;">
            <div class="input-group">
              <label for="neopixelSuccessTime" class="max-w-7rem">Timeout (ms) Auth Success</label>
              <input type="number" name="neopixelSuccessTime" id="neopixelSuccessTime" placeholder="1000" required>
            </div>
            <div class="input-group">
              <label for="neopixelFailTime" class="max-w-7rem">Timeout (ms) Auth Failed</label>
              <input type="number" name="neopixelFailTime" id="neopixelFailTime" placeholder="1000" required>
            </div>
          </div>
        </div>
        <div class="d-flex justify-around p-half-rem border-solid-gray">
          <div id="nfc-s-color" class="flex-col">
            <h4 class="text-center" style="margin-block: .2rem;">Auth Success Color</h4>
            <div id="nfc-s-vals" class="d-flex justify-center flex-wrap gap-8px">
              <div class="flex-col">
                <label for="neopixelSuccessColor!0!1">R</label>
                <input type="number" class="max-w-3-half-rem" name="neopixelSuccessColor!0!1" id="neopixelSuccessColor!0!1" min="0" max="255" placeholder="255" required>
              </div>
              <div class="flex-col">
                <label for="neopixelSuccessColor!1!1">G</label>
                <input type="number" class="max-w-3-half-rem" name="neopixelSuccessColor!1!1" id="neopixelSuccessColor!1!1" min="0" max="255" placeholder="255" required>
              </div>
              <div class="flex-col">
                <label for="neopixelSuccessColor!2!1">B</label>
                <input type="number" class="max-w-3-half-rem" name="neopixelSuccessColor!2!1" id="neopixelSuccessColor!2!1" min="0" max="255" placeholder="255" required>
              </div>
            </div>
          </div>
          <span class="border-solid-gray m-1rem"></span>
          <div id="nfc-f-color" class="flex-col">
            <h4 class="text-center" style="margin-block: .2rem;">Auth Failure Color</h4>
            <div id="nfc-f-vals" class="d-flex justify-center flex-wrap gap-8px">
              <div class="flex-col">
                <label for="neopixelFailureColor!0!1">R</label>
                <input type="number" class="max-w-3-half-rem" name="neopixelFailureColor!0!1" id="neopixelFailureColor!0!1" min="0" max="255" placeholder="255" required>
              </div>
              <div class="flex-col">
                <label for="neopixelFailureColor!1!1">G</label>
                <input type="number" class="max-w-3-half-rem" name="neopixelFailureColor!1!1" id="neopixelFailureColor!1!1" min="0" max="255" placeholder="255" required>
              </div>
              <div class="flex-col">
                <label for="neopixelFailureColor!2!1">B</label>
                <input type="number" class="max-w-3-half-rem" name="neopixelFailureColor!2!1" id="neopixelFailureColor!2!1" min="0" max="255" placeholder="255" required>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="nfc-triggers-hidden-body" data-nfc-triggers-body="1">
        <div class="d-flex flex-wrap justify-between gap-2px">
          <fieldset class="responsive-fieldset">
            <legend>Auth Success</legend>
            <div class="flex-sm flex-col-lg flex-end-sm flex-wrap">
              <div class="around-sm d-flex items-end gap-16px" style="flex: 2;">
                <div class="flex-col">
                  <label for="nfcSuccessPin">GPIO Pin</label>
                  <input type="number" name="nfcSuccessPin" id="nfcSuccessPin" placeholder="2" required min="0" max="255">
                </div>
                <div class="flex-col">
                  <label for="nfcSuccessTime">Timeout (ms)</label>
                  <input type="number" name="nfcSuccessTime" id="nfcSuccessTime" placeholder="1000" required>
                </div>
              </div>
              <div class="flex-center-sm flex-col" style="flex: 1;">
                <label for="nfcSuccessHL">GPIO State</label>
                <select name="nfcSuccessHL" id="nfcSuccessHL">
                  <option value="0">LOW</option>
                  <option value="1">HIGH</option>
                </select>
              </div>
            </div>
          </fieldset>
          <fieldset class="responsive-fieldset">
            <legend>Auth Failure</legend>
            <div class="flex-sm flex-col-lg flex-end-sm flex-wrap">
              <div class="around-sm d-flex items-end gap-16px" style="flex: 2;">
                <div class="flex-col">
                  <label for="nfcFailPin">GPIO Pin</label>
                  <input type="number" name="nfcFailPin" id="nfcFailPin" placeholder="2" required min="0" max="255">
                </div>
                <div class="flex-col">
                  <label for="nfcFailTime">Timeout (ms)</label>
                  <input type="number" name="nfcFailTime" id="nfcFailTime" placeholder="1000" required>
                </div>
              </div>
              <div class="flex-center-sm flex-col" style="flex: 1;">
                <label for="nfcFailHL">GPIO State</label>
                <select name="nfcFailHL" id="nfcFailHL">
                  <option value="0">LOW</option>
                  <option value="1">HIGH</option>
                </select>
              </div>
            </div>
          </fieldset>
          <fieldset class="responsive-fieldset">
            <legend>2nd action(on success)</legend>
            <div class="flex-sm flex-col-lg flex-end-sm flex-wrap">
              <div class="around-sm d-flex items-end gap-16px" style="flex: 2;">
                <div class="flex-col">
                  <label for="hkAltActionPin">GPIO Pin</label>
                  <input type="number" name="hkAltActionPin" id="hkAltActionPin" placeholder="2" required min="0" max="255">
                </div>
                <div class="flex-col">
                  <label for="hkAltActionTimeout">Timeout (ms)</label>
                  <input type="number" name="hkAltActionTimeout" id="hkAltActionTimeout" placeholder="1000" required>
                </div>
              </div>
              <div class="flex-center-sm flex-col" style="flex: 1;">
                <label for="hkAltActionGpioState">GPIO State</label>
                <select name="hkAltActionGpioState" id="hkAltActionGpioState">
                  <option value="0">LOW</option>
                  <option value="1">HIGH</option>
                </select>
              </div>
            </div>
          </fieldset>
        </div>
      </div>
    </div>
    <div class="card-content">
      <h3>State Triggers</h3>
      <h5 class="mt-0" style="margin-bottom: .5rem;">! Executed upon interaction in the Home app and optionally on successful HomeKey Authentication(enabled by default)</h5>
      <div class="tabs-container">
        <div id="homekit-triggers" class="tabs-list">
          <p class="tab-btn homekit-triggers-selected-tab" onclick="switchTab(this)" data-tab-index="0">Simple GPIO</p>
          <p class="tab-btn" onclick="switchTab(this)" data-tab-index="1">Dummy</p>
        </div>
        <span class="divider-dark"></span>
      </div>
      <div class="homekit-triggers-selected-body" data-homekit-triggers-body="0">
        <div>
          <h5 class="mt-0" style="margin-bottom: .5rem;">! Simple GPIO follows the "Always Lock/Unlock on HomeKey" option</h5>
          <h5 style="margin-block: 0;">! Momentary state applies only if initial state is "LOCKED"</h5>
        </div>
        <div class="flex-col-lg">
          <div class="input-group">
            <label for="gpioActionPin">GPIO Pin</label>
            <input type="number" name="gpioActionPin" id="gpioActionPin" placeholder="2" required class="w-4rem" min="0" max="255">
          </div>
          <div class="input-group">
            <label for="gpioActionLockState">GPIO State - Locked</label>
            <select name="gpioActionLockState" id="gpioActionLockState">
              <option value="0">LOW</option>
              <option value="1">HIGH</option>
            </select>
          </div>
          <div class="input-group">
            <label for="gpioActionUnlockState">GPIO State - Unlocked</label>
            <select name="gpioActionUnlockState" id="gpioActionUnlockState">
              <option value="0">LOW</option>
              <option value="1">HIGH</option>
            </select>
          </div>
          <div class="input-group">
            <label for="hkGpioControlledState">Actionable by HomeKey</label>
            <select name="hkGpioControlledState" id="hkGpioControlledState">
              <option value="0">Disabled</option>
              <option value="1">Enabled</option>
            </select>
          </div>
          <div class="input-group">
            <label for="gpioActionMomentaryEnabled">Momentary state</label>
            <select name="gpioActionMomentaryEnabled" id="gpioActionMomentaryEnabled" onchange="document.querySelector('.homekit-triggers-hidden-body #gpioActionMomentaryEnabled').value = this.value;">
              <option value="0">Disabled</option>
              <option value="1">Home App Only</option>
              <option value="2">Home Key Only</option>
              <option value="3">Home App + Home Key</option>
            </select>
          </div>
          <div class="input-group">
            <label for="gpioActionMomentaryTimeout">Momentary timeout (ms)</label>
            <input type="number" name="gpioActionMomentaryTimeout" id="gpioActionMomentaryTimeout" placeholder="5000" required class="w-4rem" onchange="document.querySelector('.homekit-triggers-hidden-body #gpioActionMomentaryTimeout').value = this.value;">
          </div>
        </div>
      </div>
      <div class="homekit-triggers-hidden-body" data-homekit-triggers-body="1">
        <div>
          <h5 class="mt-0" style="margin-bottom: .5rem;">! Dummy follows the "Always Lock/Unlock on HomeKey" option</h5>
          <h5 style="margin-block: 0;">! Momentary state applies only if initial state is "LOCKED"</h5>
        </div>
        <div class="flex-col-lg">
          <div class="input-group">
            <label for="hkDumbSwitchMode">Status</label>
            <select name="hkDumbSwitchMode" id="hkDumbSwitchMode">
                <option value="0">Disabled</option>
                <option value="1">Enabled</option>
            </select>
          </div>
          <div class="input-group">
            <label for="gpioActionMomentaryEnabled">Momentary state</label>
            <select name="gpioActionMomentaryEnabled" id="gpioActionMomentaryEnabled" onchange="document.querySelector('.homekit-triggers-hidden-body #gpioActionMomentaryEnabled').value = this.value;">
              <option value="0">Disabled</option>
              <option value="1">Home App Only</option>
              <option value="2">Home Key Only</option>
              <option value="3">Home App + Home Key</option>
            </select>
          </div>
          <div class="input-group">
            <label for="gpioActionMomentaryTimeout">Momentary timeout (ms)</label>
            <input type="number" name="gpioActionMomentaryTimeout" id="gpioActionMomentaryTimeout" placeholder="5000" required style="width: 4rem;" onchange="document.querySelector('.homekit-triggers-hidden-body #gpioActionMomentaryTimeout').value = this.value;">
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="buttons-group">
    <button type="submit" class="cursor-pointer">Submit</button>
    <button type="reset" class="cursor-pointer destructive-btn">Reset</button>
  </div>
</form>
